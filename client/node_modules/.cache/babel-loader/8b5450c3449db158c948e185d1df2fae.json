{"ast":null,"code":"var _jsxFileName = \"/Users/idris/Documents/Dev/plex-cinema/client/src/components/Cart/Cart.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { deleteItem, loadCart, getPriceTotal } from \"../../actions/cart\";\nimport { getMovie } from \"../../actions/movie\";\nimport Spinner from \"../Spinner/LoadSpinner\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport Container from \"react-bootstrap/Container\";\nimport Table from \"react-bootstrap/Table\";\nimport Button from \"react-bootstrap/Button\";\nimport Image from \"react-bootstrap/Image\";\nimport Modal from \"react-bootstrap/Modal\";\nconst styles = {\n  color: \"black\",\n  marginSpace: {\n    padding: \"30px\"\n  },\n  centerText: {\n    textAlign: \"center\"\n  }\n};\n\nconst Cart = _ref => {\n  let {\n    cart,\n    loadCart,\n    getPriceTotal,\n    total,\n    loading,\n    deleteItem,\n    price = 2.99,\n    userId,\n    authenticated,\n    guestCart,\n    guestTotal,\n    getMovie\n  } = _ref;\n  const {\n    isLoading\n  } = useAuth0();\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  useEffect(() => {\n    loadCart(authenticated);\n    getPriceTotal(userId, authenticated);\n  }, [deleteItem, total]);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Spinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 12\n      }\n    });\n  }\n\n  const loginCheck = /*#__PURE__*/React.createElement(Modal, {\n    show: show,\n    onHide: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, \"Login to Checkout.\"), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"secondary\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, \"Close\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    href: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, \"Login\")));\n  const authCart = /*#__PURE__*/React.createElement(Table, {\n    hover: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, \"Movie\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, \"Price\"))), cart.map((movie, key) => /*#__PURE__*/React.createElement(\"tbody\", {\n    key: key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/movie_info/${movie.id}`,\n    onClick: () => getMovie(movie.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    rounded: true,\n    src: `https://image.tmdb.org/t/p/w154${movie.poster_path}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  }, movie.title)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, \"$\", price, \"\\xA0 \\xA0\\xA0\", /*#__PURE__*/React.createElement(Button, {\n    variant: \"danger\",\n    onClick: () => deleteItem(movie.id, key, price, authenticated),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"bi bi-trash-fill\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  })))))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, \"Total: $\", total), /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.marginSpace,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    href: \"/checkout\",\n    variant: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 15\n    }\n  }, \"Checkout \", /*#__PURE__*/React.createElement(\"i\", {\n    class: \"bi bi-box-arrow-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 26\n    }\n  })))))));\n  const guest = /*#__PURE__*/React.createElement(Table, {\n    style: styles.marginSpace,\n    hover: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }, \"Movie\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }, \"Price\"))), guestCart.map((movie, key) => /*#__PURE__*/React.createElement(\"tbody\", {\n    key: key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/movie_info/${movie.id}`,\n    onClick: () => getMovie(movie.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    rounded: true,\n    src: `https://image.tmdb.org/t/p/w154${movie.poster_path}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 15\n    }\n  }, movie.title)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }, \"$\", price, \"\\xA0 \\xA0\\xA0\", /*#__PURE__*/React.createElement(Button, {\n    variant: \"danger\",\n    onClick: () => deleteItem(movie.id, key, price, authenticated),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"bi bi-trash-fill\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 17\n    }\n  })))))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 11\n    }\n  }, \"Total: $\", guestTotal), /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.marginSpace,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => handleShow(),\n    variant: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }\n  }, \"Checkout \", /*#__PURE__*/React.createElement(\"i\", {\n    class: \"bi bi-box-arrow-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 24\n    }\n  }))))));\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 5\n    }\n  }, authenticated ? authCart : guest, loginCheck);\n};\n\nconst mapStateToProps = state => ({\n  cart: state.cart.cart,\n  guestCart: state.cart.guestCart,\n  total: state.cart.totalPrice,\n  guestTotal: state.cart.guestTotal,\n  loading: state.cart.loading,\n  userId: state.auth.userInfo._id,\n  authenticated: state.auth.authenticated,\n  movie: state.movie.searchedMovie\n});\n\nexport default connect(mapStateToProps, {\n  deleteItem,\n  loadCart,\n  getPriceTotal,\n  getMovie\n})(Cart);","map":{"version":3,"sources":["/Users/idris/Documents/Dev/plex-cinema/client/src/components/Cart/Cart.js"],"names":["React","useEffect","useState","connect","PropTypes","Link","Redirect","deleteItem","loadCart","getPriceTotal","getMovie","Spinner","useAuth0","Container","Table","Button","Image","Modal","styles","color","marginSpace","padding","centerText","textAlign","Cart","cart","total","loading","price","userId","authenticated","guestCart","guestTotal","isLoading","show","setShow","handleClose","handleShow","loginCheck","authCart","map","movie","key","id","poster_path","title","guest","mapStateToProps","state","totalPrice","auth","userInfo","_id","searchedMovie"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { deleteItem, loadCart, getPriceTotal } from \"../../actions/cart\";\nimport { getMovie } from \"../../actions/movie\";\nimport Spinner from \"../Spinner/LoadSpinner\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport Container from \"react-bootstrap/Container\";\nimport Table from \"react-bootstrap/Table\";\nimport Button from \"react-bootstrap/Button\";\nimport Image from \"react-bootstrap/Image\";\nimport Modal from \"react-bootstrap/Modal\";\n\nconst styles = {\n  color: \"black\",\n  marginSpace: {\n    padding: \"30px\",\n  },\n  centerText: {\n    textAlign: \"center\",\n  },\n};\n\nconst Cart = ({\n  cart,\n  loadCart,\n  getPriceTotal,\n  total,\n  loading,\n  deleteItem,\n  price = 2.99,\n  userId,\n  authenticated,\n  guestCart,\n  guestTotal,\n  getMovie,\n}) => {\n  const { isLoading } = useAuth0();\n\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  useEffect(() => {\n    loadCart(authenticated);\n    getPriceTotal(userId, authenticated);\n  }, [deleteItem, total]);\n\n  if (loading) {\n    return <Spinner />;\n  }\n\n  const loginCheck = (\n    <Modal show={show} onHide={handleClose}>\n      <Modal.Body>Login to Checkout.</Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"secondary\" onClick={handleClose}>\n          Close\n        </Button>\n        <Button variant=\"primary\" href=\"/login\">\n          Login\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  );\n\n  const authCart = (\n    <Table hover>\n      <thead>\n        <tr>\n          <th>Movie</th>\n          <th>Price</th>\n        </tr>\n      </thead>\n      {cart.map((movie, key) => (\n        <tbody key={key}>\n          <tr>\n            <td>\n              <Link\n                to={`/movie_info/${movie.id}`}\n                onClick={() => getMovie(movie.id)}\n              >\n                <Image\n                  rounded\n                  src={`https://image.tmdb.org/t/p/w154${movie.poster_path}`}\n                />\n              </Link>\n              <div>{movie.title}</div>\n            </td>\n            <td>\n              ${price}\n              &nbsp; &nbsp;&nbsp;\n              <Button\n                variant=\"danger\"\n                onClick={() => deleteItem(movie.id, key, price, authenticated)}\n              >\n                <i class=\"bi bi-trash-fill\"></i>\n              </Button>\n            </td>\n          </tr>\n        </tbody>\n      ))}\n      <tbody>\n        <tr>\n          <td></td>\n          <td>\n            <h5>Total: ${total}</h5>\n            <div style={styles.marginSpace}>\n              <Button href=\"/checkout\" variant=\"success\">\n                Checkout <i class=\"bi bi-box-arrow-right\"></i>\n              </Button>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n    </Table>\n  );\n\n  const guest = (\n    <Table style={styles.marginSpace} hover>\n      <thead>\n        <tr>\n          <th>Movie</th>\n          <th>Price</th>\n        </tr>\n      </thead>\n      {guestCart.map((movie, key) => (\n        <tbody key={key}>\n          <tr>\n            <td>\n              <Link\n                to={`/movie_info/${movie.id}`}\n                onClick={() => getMovie(movie.id)}\n              >\n                <Image\n                  rounded\n                  src={`https://image.tmdb.org/t/p/w154${movie.poster_path}`}\n                />\n              </Link>\n              <div>{movie.title}</div>\n            </td>\n            <td>\n              ${price}\n              &nbsp; &nbsp;&nbsp;\n              <Button\n                variant=\"danger\"\n                onClick={() => deleteItem(movie.id, key, price, authenticated)}\n              >\n                <i class=\"bi bi-trash-fill\"></i>\n              </Button>\n            </td>\n          </tr>\n        </tbody>\n      ))}\n      <tbody>\n        <tr>\n          <td></td>\n          <h5>Total: ${guestTotal}</h5>\n          <div style={styles.marginSpace}>\n            <Button onClick={() => handleShow()} variant=\"success\">\n              Checkout <i class=\"bi bi-box-arrow-right\"></i>\n            </Button>\n          </div>\n        </tr>\n      </tbody>\n    </Table>\n  );\n\n  return (\n    <Container>\n      {authenticated ? authCart : guest}\n      {loginCheck}\n    </Container>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  cart: state.cart.cart,\n  guestCart: state.cart.guestCart,\n  total: state.cart.totalPrice,\n  guestTotal: state.cart.guestTotal,\n  loading: state.cart.loading,\n  userId: state.auth.userInfo._id,\n  authenticated: state.auth.authenticated,\n  movie: state.movie.searchedMovie,\n});\n\nexport default connect(mapStateToProps, {\n  deleteItem,\n  loadCart,\n  getPriceTotal,\n  getMovie,\n})(Cart);\n"]},"metadata":{},"sourceType":"module"}